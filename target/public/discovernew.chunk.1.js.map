{"version":3,"file":"discovernew.chunk.1.js","sources":["/plugin:discovernew/plugins/kibanaDiscover1/public/application/components/doc_viewer/doc_viewer.scss?v8dark?v8dark","/plugin:discovernew/plugins/kibanaDiscover1/public/application/components/doc_viewer/doc_viewer.scss?v8light?v8light","/plugin:discovernew/plugins/kibanaDiscover1/public/application/angular/helpers/index.ts","/plugin:discovernew/plugins/kibanaDiscover1/public/application/angular/helpers/row_formatter.tsx","/plugin:discovernew/plugins/kibanaDiscover1/public/application/angular/helpers/state_helpers.ts","/plugin:discovernew/plugins/kibanaDiscover1/public/application/components/doc_viewer/doc_viewer.scss","webpack:///./public/application/components/doc_viewer/doc_viewer.scss?8dae","webpack:///./public/application/components/doc_viewer/doc_viewer.scss?d55b","/plugin:discovernew/plugins/kibanaDiscover1/public/application/components/doc_viewer/doc_viewer.tsx","/plugin:discovernew/plugins/kibanaDiscover1/public/application/components/doc_viewer/doc_viewer_render_tab.tsx","/plugin:discovernew/plugins/kibanaDiscover1/public/application/components/doc_viewer/doc_viewer_tab.tsx"],"sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \"/**\\n * 1. Focus rings shouldn't be visible on scrollable regions, but a11y requires them to be focusable.\\n *    Browser's supporting `:focus-visible` will still show outline on keyboard focus only.\\n *    Others like Safari, won't show anything at all.\\n * 2. Force the `:focus-visible` when the `tabindex=0` (is tabbable)\\n */\\n@media only screen and (max-width: 574px) {\\n  .kbnDocViewerTable {\\n    table-layout: fixed; } }\\n\\n@media only screen and (min-width: 575px) and (max-width: 767px) {\\n  .kbnDocViewerTable {\\n    table-layout: fixed; } }\\n\\n@media only screen and (min-width: 768px) and (max-width: 991px) {\\n  .kbnDocViewerTable {\\n    table-layout: fixed; } }\\n\\n.kbnDocViewer pre,\\n.kbnDocViewer .kbnDocViewer__value {\\n  display: inline-block;\\n  word-break: break-all;\\n  word-wrap: break-word;\\n  white-space: pre-wrap;\\n  color: #FFF;\\n  vertical-align: top;\\n  padding-top: 2px; }\\n\\n.kbnDocViewer .kbnDocViewer__field {\\n  padding-top: 8px; }\\n\\n.kbnDocViewer .kbnDocViewer__multifield_row:hover td {\\n  background-color: transparent; }\\n\\n.kbnDocViewer .kbnDocViewer__multifield_title {\\n  font-family: \\\"Inter\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\"; }\\n\\n.kbnDocViewer .dscFieldName {\\n  color: #98A2B3; }\\n\\n.kbnDocViewer td,\\n.kbnDocViewer pre {\\n  font-family: \\\"Roboto Mono\\\", Consolas, Menlo, Courier, monospace; }\\n\\n.kbnDocViewer tr:first-child td {\\n  border-top-color: transparent; }\\n\\n.kbnDocViewer tr:hover .kbnDocViewer__actionButton {\\n  opacity: 1; }\\n\\n.kbnDocViewer__buttons,\\n.kbnDocViewer__field {\\n  white-space: nowrap; }\\n\\n.kbnDocViewer__buttons {\\n  width: 108px; }\\n  .kbnDocViewer__buttons:focus-within .kbnDocViewer__actionButton {\\n    opacity: 1; }\\n\\n.kbnDocViewer__field {\\n  width: 160px; }\\n  @media only screen and (max-width: 574px) {\\n    .kbnDocViewer__field {\\n      width: 96px; } }\\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\\n    .kbnDocViewer__field {\\n      width: 96px; } }\\n  @media only screen and (min-width: 768px) and (max-width: 991px) {\\n    .kbnDocViewer__field {\\n      width: 96px; } }\\n\\n@media only screen and (min-width: 768px) and (max-width: 991px) {\\n  .kbnDocViewer__actionButton {\\n    opacity: 0; } }\\n\\n@media only screen and (min-width: 992px) and (max-width: 1199px) {\\n  .kbnDocViewer__actionButton {\\n    opacity: 0; } }\\n\\n@media only screen and (min-width: 1200px) {\\n  .kbnDocViewer__actionButton {\\n    opacity: 0; } }\\n\\n.kbnDocViewer__actionButton:focus {\\n  opacity: 1; }\\n\\n.kbnDocViewer__warning {\\n  margin-right: 8px; }\\n\", \"\",{\"version\":3,\"sources\":[\"doc_viewer.scss\"],\"names\":[],\"mappings\":\"AAAA;;;;;EAKE;AACF;EACE;IACE,mBAAmB,EAAE,EAAE;;AAE3B;EACE;IACE,mBAAmB,EAAE,EAAE;;AAE3B;EACE;IACE,mBAAmB,EAAE,EAAE;;AAE3B;;EAEE,qBAAqB;EACrB,qBAAqB;EACrB,qBAAqB;EACrB,qBAAqB;EACrB,WAAW;EACX,mBAAmB;EACnB,gBAAgB,EAAE;;AAEpB;EACE,gBAAgB,EAAE;;AAEpB;EACE,6BAA6B,EAAE;;AAEjC;EACE,2JAA2J,EAAE;;AAE/J;EACE,cAAc,EAAE;;AAElB;;EAEE,+DAA+D,EAAE;;AAEnE;EACE,6BAA6B,EAAE;;AAEjC;EACE,UAAU,EAAE;;AAEd;;EAEE,mBAAmB,EAAE;;AAEvB;EACE,YAAY,EAAE;EACd;IACE,UAAU,EAAE;;AAEhB;EACE,YAAY,EAAE;EACd;IACE;MACE,WAAW,EAAE,EAAE;EACnB;IACE;MACE,WAAW,EAAE,EAAE;EACnB;IACE;MACE,WAAW,EAAE,EAAE;;AAErB;EACE;IACE,UAAU,EAAE,EAAE;;AAElB;EACE;IACE,UAAU,EAAE,EAAE;;AAElB;EACE;IACE,UAAU,EAAE,EAAE;;AAElB;EACE,UAAU,EAAE;;AAEd;EACE,iBAAiB,EAAE\",\"file\":\"doc_viewer.scss\",\"sourcesContent\":[\"/**\\n * 1. Focus rings shouldn't be visible on scrollable regions, but a11y requires them to be focusable.\\n *    Browser's supporting `:focus-visible` will still show outline on keyboard focus only.\\n *    Others like Safari, won't show anything at all.\\n * 2. Force the `:focus-visible` when the `tabindex=0` (is tabbable)\\n */\\n@media only screen and (max-width: 574px) {\\n  .kbnDocViewerTable {\\n    table-layout: fixed; } }\\n\\n@media only screen and (min-width: 575px) and (max-width: 767px) {\\n  .kbnDocViewerTable {\\n    table-layout: fixed; } }\\n\\n@media only screen and (min-width: 768px) and (max-width: 991px) {\\n  .kbnDocViewerTable {\\n    table-layout: fixed; } }\\n\\n.kbnDocViewer pre,\\n.kbnDocViewer .kbnDocViewer__value {\\n  display: inline-block;\\n  word-break: break-all;\\n  word-wrap: break-word;\\n  white-space: pre-wrap;\\n  color: #FFF;\\n  vertical-align: top;\\n  padding-top: 2px; }\\n\\n.kbnDocViewer .kbnDocViewer__field {\\n  padding-top: 8px; }\\n\\n.kbnDocViewer .kbnDocViewer__multifield_row:hover td {\\n  background-color: transparent; }\\n\\n.kbnDocViewer .kbnDocViewer__multifield_title {\\n  font-family: \\\"Inter\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\"; }\\n\\n.kbnDocViewer .dscFieldName {\\n  color: #98A2B3; }\\n\\n.kbnDocViewer td,\\n.kbnDocViewer pre {\\n  font-family: \\\"Roboto Mono\\\", Consolas, Menlo, Courier, monospace; }\\n\\n.kbnDocViewer tr:first-child td {\\n  border-top-color: transparent; }\\n\\n.kbnDocViewer tr:hover .kbnDocViewer__actionButton {\\n  opacity: 1; }\\n\\n.kbnDocViewer__buttons,\\n.kbnDocViewer__field {\\n  white-space: nowrap; }\\n\\n.kbnDocViewer__buttons {\\n  width: 108px; }\\n  .kbnDocViewer__buttons:focus-within .kbnDocViewer__actionButton {\\n    opacity: 1; }\\n\\n.kbnDocViewer__field {\\n  width: 160px; }\\n  @media only screen and (max-width: 574px) {\\n    .kbnDocViewer__field {\\n      width: 96px; } }\\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\\n    .kbnDocViewer__field {\\n      width: 96px; } }\\n  @media only screen and (min-width: 768px) and (max-width: 991px) {\\n    .kbnDocViewer__field {\\n      width: 96px; } }\\n\\n@media only screen and (min-width: 768px) and (max-width: 991px) {\\n  .kbnDocViewer__actionButton {\\n    opacity: 0; } }\\n\\n@media only screen and (min-width: 992px) and (max-width: 1199px) {\\n  .kbnDocViewer__actionButton {\\n    opacity: 0; } }\\n\\n@media only screen and (min-width: 1200px) {\\n  .kbnDocViewer__actionButton {\\n    opacity: 0; } }\\n\\n.kbnDocViewer__actionButton:focus {\\n  opacity: 1; }\\n\\n.kbnDocViewer__warning {\\n  margin-right: 8px; }\\n\"]}]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \"/**\\n * 1. Focus rings shouldn't be visible on scrollable regions, but a11y requires them to be focusable.\\n *    Browser's supporting `:focus-visible` will still show outline on keyboard focus only.\\n *    Others like Safari, won't show anything at all.\\n * 2. Force the `:focus-visible` when the `tabindex=0` (is tabbable)\\n */\\n@media only screen and (max-width: 574px) {\\n  .kbnDocViewerTable {\\n    table-layout: fixed; } }\\n\\n@media only screen and (min-width: 575px) and (max-width: 767px) {\\n  .kbnDocViewerTable {\\n    table-layout: fixed; } }\\n\\n@media only screen and (min-width: 768px) and (max-width: 991px) {\\n  .kbnDocViewerTable {\\n    table-layout: fixed; } }\\n\\n.kbnDocViewer pre,\\n.kbnDocViewer .kbnDocViewer__value {\\n  display: inline-block;\\n  word-break: break-all;\\n  word-wrap: break-word;\\n  white-space: pre-wrap;\\n  color: #000;\\n  vertical-align: top;\\n  padding-top: 2px; }\\n\\n.kbnDocViewer .kbnDocViewer__field {\\n  padding-top: 8px; }\\n\\n.kbnDocViewer .kbnDocViewer__multifield_row:hover td {\\n  background-color: transparent; }\\n\\n.kbnDocViewer .kbnDocViewer__multifield_title {\\n  font-family: \\\"Inter\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\"; }\\n\\n.kbnDocViewer .dscFieldName {\\n  color: #69707D; }\\n\\n.kbnDocViewer td,\\n.kbnDocViewer pre {\\n  font-family: \\\"Roboto Mono\\\", Consolas, Menlo, Courier, monospace; }\\n\\n.kbnDocViewer tr:first-child td {\\n  border-top-color: transparent; }\\n\\n.kbnDocViewer tr:hover .kbnDocViewer__actionButton {\\n  opacity: 1; }\\n\\n.kbnDocViewer__buttons,\\n.kbnDocViewer__field {\\n  white-space: nowrap; }\\n\\n.kbnDocViewer__buttons {\\n  width: 108px; }\\n  .kbnDocViewer__buttons:focus-within .kbnDocViewer__actionButton {\\n    opacity: 1; }\\n\\n.kbnDocViewer__field {\\n  width: 160px; }\\n  @media only screen and (max-width: 574px) {\\n    .kbnDocViewer__field {\\n      width: 96px; } }\\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\\n    .kbnDocViewer__field {\\n      width: 96px; } }\\n  @media only screen and (min-width: 768px) and (max-width: 991px) {\\n    .kbnDocViewer__field {\\n      width: 96px; } }\\n\\n@media only screen and (min-width: 768px) and (max-width: 991px) {\\n  .kbnDocViewer__actionButton {\\n    opacity: 0; } }\\n\\n@media only screen and (min-width: 992px) and (max-width: 1199px) {\\n  .kbnDocViewer__actionButton {\\n    opacity: 0; } }\\n\\n@media only screen and (min-width: 1200px) {\\n  .kbnDocViewer__actionButton {\\n    opacity: 0; } }\\n\\n.kbnDocViewer__actionButton:focus {\\n  opacity: 1; }\\n\\n.kbnDocViewer__warning {\\n  margin-right: 8px; }\\n\", \"\",{\"version\":3,\"sources\":[\"doc_viewer.scss\"],\"names\":[],\"mappings\":\"AAAA;;;;;EAKE;AACF;EACE;IACE,mBAAmB,EAAE,EAAE;;AAE3B;EACE;IACE,mBAAmB,EAAE,EAAE;;AAE3B;EACE;IACE,mBAAmB,EAAE,EAAE;;AAE3B;;EAEE,qBAAqB;EACrB,qBAAqB;EACrB,qBAAqB;EACrB,qBAAqB;EACrB,WAAW;EACX,mBAAmB;EACnB,gBAAgB,EAAE;;AAEpB;EACE,gBAAgB,EAAE;;AAEpB;EACE,6BAA6B,EAAE;;AAEjC;EACE,2JAA2J,EAAE;;AAE/J;EACE,cAAc,EAAE;;AAElB;;EAEE,+DAA+D,EAAE;;AAEnE;EACE,6BAA6B,EAAE;;AAEjC;EACE,UAAU,EAAE;;AAEd;;EAEE,mBAAmB,EAAE;;AAEvB;EACE,YAAY,EAAE;EACd;IACE,UAAU,EAAE;;AAEhB;EACE,YAAY,EAAE;EACd;IACE;MACE,WAAW,EAAE,EAAE;EACnB;IACE;MACE,WAAW,EAAE,EAAE;EACnB;IACE;MACE,WAAW,EAAE,EAAE;;AAErB;EACE;IACE,UAAU,EAAE,EAAE;;AAElB;EACE;IACE,UAAU,EAAE,EAAE;;AAElB;EACE;IACE,UAAU,EAAE,EAAE;;AAElB;EACE,UAAU,EAAE;;AAEd;EACE,iBAAiB,EAAE\",\"file\":\"doc_viewer.scss\",\"sourcesContent\":[\"/**\\n * 1. Focus rings shouldn't be visible on scrollable regions, but a11y requires them to be focusable.\\n *    Browser's supporting `:focus-visible` will still show outline on keyboard focus only.\\n *    Others like Safari, won't show anything at all.\\n * 2. Force the `:focus-visible` when the `tabindex=0` (is tabbable)\\n */\\n@media only screen and (max-width: 574px) {\\n  .kbnDocViewerTable {\\n    table-layout: fixed; } }\\n\\n@media only screen and (min-width: 575px) and (max-width: 767px) {\\n  .kbnDocViewerTable {\\n    table-layout: fixed; } }\\n\\n@media only screen and (min-width: 768px) and (max-width: 991px) {\\n  .kbnDocViewerTable {\\n    table-layout: fixed; } }\\n\\n.kbnDocViewer pre,\\n.kbnDocViewer .kbnDocViewer__value {\\n  display: inline-block;\\n  word-break: break-all;\\n  word-wrap: break-word;\\n  white-space: pre-wrap;\\n  color: #000;\\n  vertical-align: top;\\n  padding-top: 2px; }\\n\\n.kbnDocViewer .kbnDocViewer__field {\\n  padding-top: 8px; }\\n\\n.kbnDocViewer .kbnDocViewer__multifield_row:hover td {\\n  background-color: transparent; }\\n\\n.kbnDocViewer .kbnDocViewer__multifield_title {\\n  font-family: \\\"Inter\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\"; }\\n\\n.kbnDocViewer .dscFieldName {\\n  color: #69707D; }\\n\\n.kbnDocViewer td,\\n.kbnDocViewer pre {\\n  font-family: \\\"Roboto Mono\\\", Consolas, Menlo, Courier, monospace; }\\n\\n.kbnDocViewer tr:first-child td {\\n  border-top-color: transparent; }\\n\\n.kbnDocViewer tr:hover .kbnDocViewer__actionButton {\\n  opacity: 1; }\\n\\n.kbnDocViewer__buttons,\\n.kbnDocViewer__field {\\n  white-space: nowrap; }\\n\\n.kbnDocViewer__buttons {\\n  width: 108px; }\\n  .kbnDocViewer__buttons:focus-within .kbnDocViewer__actionButton {\\n    opacity: 1; }\\n\\n.kbnDocViewer__field {\\n  width: 160px; }\\n  @media only screen and (max-width: 574px) {\\n    .kbnDocViewer__field {\\n      width: 96px; } }\\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\\n    .kbnDocViewer__field {\\n      width: 96px; } }\\n  @media only screen and (min-width: 768px) and (max-width: 991px) {\\n    .kbnDocViewer__field {\\n      width: 96px; } }\\n\\n@media only screen and (min-width: 768px) and (max-width: 991px) {\\n  .kbnDocViewer__actionButton {\\n    opacity: 0; } }\\n\\n@media only screen and (min-width: 992px) and (max-width: 1199px) {\\n  .kbnDocViewer__actionButton {\\n    opacity: 0; } }\\n\\n@media only screen and (min-width: 1200px) {\\n  .kbnDocViewer__actionButton {\\n    opacity: 0; } }\\n\\n.kbnDocViewer__actionButton:focus {\\n  opacity: 1; }\\n\\n.kbnDocViewer__warning {\\n  margin-right: 8px; }\\n\"]}]);\n// Exports\nmodule.exports = exports;\n","/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License\n * 2.0 and the Server Side Public License, v 1; you may not use this file except\n * in compliance with, at your election, the Elastic License 2.0 or the Server\n * Side Public License, v 1.\n */\nexport { formatRow, formatTopLevelObject } from './row_formatter';\nexport { handleSourceColumnState } from './state_helpers';","/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License\n * 2.0 and the Server Side Public License, v 1; you may not use this file except\n * in compliance with, at your election, the Elastic License 2.0 or the Server\n * Side Public License, v 1.\n */\nimport React, { Fragment } from 'react';\nimport ReactDOM from 'react-dom/server';\nimport { MAX_DOC_FIELDS_DISPLAYED } from '../../../../common';\nimport { getServices } from '../../../kibana_services';\n\nconst TemplateComponent = ({\n  defPairs\n}) => {\n  return /*#__PURE__*/React.createElement(\"dl\", {\n    className: 'source truncate-by-height'\n  }, defPairs.map((pair, idx) => /*#__PURE__*/React.createElement(Fragment, {\n    key: idx\n  }, /*#__PURE__*/React.createElement(\"dt\", null, pair[0], \":\"), /*#__PURE__*/React.createElement(\"dd\", {\n    // We  can dangerously set HTML here because this content is guaranteed to have been run through a valid field formatter first.\n    dangerouslySetInnerHTML: {\n      __html: `${pair[1]}`\n    } // eslint-disable-line react/no-danger\n\n  }), ' ')));\n}; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nexport const formatRow = (hit, indexPattern) => {\n  var _hit$highlight;\n\n  const highlights = (_hit$highlight = hit === null || hit === void 0 ? void 0 : hit.highlight) !== null && _hit$highlight !== void 0 ? _hit$highlight : {}; // Keys are sorted in the hits object\n\n  const formatted = indexPattern.formatHit(hit);\n  const fields = indexPattern.fields;\n  const highlightPairs = [];\n  const sourcePairs = [];\n  Object.entries(formatted).forEach(([key, val]) => {\n    var _fields$getByName;\n\n    const displayKey = fields.getByName ? (_fields$getByName = fields.getByName(key)) === null || _fields$getByName === void 0 ? void 0 : _fields$getByName.displayName : undefined;\n    const pairs = highlights[key] ? highlightPairs : sourcePairs;\n    pairs.push([displayKey ? displayKey : key, val]);\n  });\n  const maxEntries = getServices().uiSettings.get(MAX_DOC_FIELDS_DISPLAYED);\n  return ReactDOM.renderToStaticMarkup( /*#__PURE__*/React.createElement(TemplateComponent, {\n    defPairs: [...highlightPairs, ...sourcePairs].slice(0, maxEntries)\n  }));\n};\nexport const formatTopLevelObject = (row, fields, indexPattern) => {\n  var _row$highlight;\n\n  const highlights = (_row$highlight = row.highlight) !== null && _row$highlight !== void 0 ? _row$highlight : {};\n  const highlightPairs = [];\n  const sourcePairs = [];\n  const sorted = Object.entries(fields).sort(([keyA], [keyB]) => keyA.localeCompare(keyB));\n  sorted.forEach(([key, values]) => {\n    var _fields$getByName2;\n\n    const field = indexPattern.getFieldByName(key);\n    const displayKey = fields.getByName ? (_fields$getByName2 = fields.getByName(key)) === null || _fields$getByName2 === void 0 ? void 0 : _fields$getByName2.displayName : undefined;\n    const formatter = field ? indexPattern.getFormatterForField(field) : {\n      convert: (v, ...rest) => String(v)\n    };\n    if (!values.map) return;\n    const formatted = values.map(val => formatter.convert(val, 'html', {\n      field,\n      hit: row,\n      indexPattern\n    })).join(', ');\n    const pairs = highlights[key] ? highlightPairs : sourcePairs;\n    pairs.push([displayKey ? displayKey : key, formatted]);\n  });\n  const maxEntries = getServices().uiSettings.get(MAX_DOC_FIELDS_DISPLAYED);\n  return ReactDOM.renderToStaticMarkup( /*#__PURE__*/React.createElement(TemplateComponent, {\n    defPairs: [...highlightPairs, ...sourcePairs].slice(0, maxEntries)\n  }));\n};","/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License\n * 2.0 and the Server Side Public License, v 1; you may not use this file except\n * in compliance with, at your election, the Elastic License 2.0 or the Server\n * Side Public License, v 1.\n */\nimport { isEqual } from 'lodash';\nimport { SEARCH_FIELDS_FROM_SOURCE, DEFAULT_COLUMNS_SETTING } from '../../../../common';\n/**\n * Makes sure the current state is not referencing the source column when using the fields api\n * @param state\n * @param uiSettings\n */\n\nexport function handleSourceColumnState(state, uiSettings) {\n  if (!state.columns) {\n    return state;\n  }\n\n  const useNewFieldsApi = !uiSettings.get(SEARCH_FIELDS_FROM_SOURCE);\n  const defaultColumns = uiSettings.get(DEFAULT_COLUMNS_SETTING);\n\n  if (useNewFieldsApi) {\n    // if fields API is used, filter out the source column\n    let cleanedColumns = state.columns.filter(column => column !== '_source');\n\n    if (cleanedColumns.length === 0 && !isEqual(defaultColumns, ['_source'])) {\n      cleanedColumns = defaultColumns; // defaultColumns could still contain _source\n\n      cleanedColumns = cleanedColumns.filter(column => column !== '_source');\n    }\n\n    return { ...state,\n      columns: cleanedColumns\n    };\n  } else if (state.columns.length === 0) {\n    // if _source fetching is used and there are no column, switch back to default columns\n    // this can happen if the fields API was previously used\n    return { ...state,\n      columns: [...defaultColumns]\n    };\n  }\n\n  return state;\n}","\nswitch (window.__kbnThemeTag__) {\n  case 'v7dark':\n    console.error(new Error(\"SASS files in [discovernew] were not built for theme [v7dark]. Styles were compiled using the [v8dark] theme instead to keep Kibana somewhat usable. Please adjust the advanced settings to make use of [v8dark,v8light] or make sure the KBN_OPTIMIZER_THEMES environment variable includes [v7dark] in a comma separated list of themes you want to compile. You can also set it to \\\"*\\\" to build all themes.\"));\n    return require(\"./doc_viewer.scss?v8dark\")\n\n  case 'v7light':\n    console.error(new Error(\"SASS files in [discovernew] were not built for theme [v7light]. Styles were compiled using the [v8light] theme instead to keep Kibana somewhat usable. Please adjust the advanced settings to make use of [v8dark,v8light] or make sure the KBN_OPTIMIZER_THEMES environment variable includes [v7light] in a comma separated list of themes you want to compile. You can also set it to \\\"*\\\" to build all themes.\"));\n    return require(\"./doc_viewer.scss?v8light\")\n\n  case 'v8dark':\n    return require(\"./doc_viewer.scss?v8dark\");\n\n  case 'v8light':\n    return require(\"./doc_viewer.scss?v8light\");\n}","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-oneOf-0-3!./doc_viewer.scss?v8dark\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-oneOf-1-3!./doc_viewer.scss?v8light\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License\n * 2.0 and the Server Side Public License, v 1; you may not use this file except\n * in compliance with, at your election, the Elastic License 2.0 or the Server\n * Side Public License, v 1.\n */\nimport './doc_viewer.scss';\nimport React from 'react';\nimport { EuiTabbedContent } from '@elastic/eui';\nimport { getDocViewsRegistry } from '../../../kibana_services';\nimport { DocViewerTab } from './doc_viewer_tab';\n\n/**\n * Rendering tabs with different views of 1 Elasticsearch hit in Discover.\n * The tabs are provided by the `docs_views` registry.\n * A view can contain a React `component`, or any JS framework by using\n * a `render` function.\n */\nexport function DocViewer(renderProps) {\n  const docViewsRegistry = getDocViewsRegistry();\n  const tabs = docViewsRegistry.getDocViewsSorted(renderProps.hit).map(({\n    title,\n    render,\n    component\n  }, idx) => {\n    return {\n      id: `kbn_doc_viewer_tab_${idx}`,\n      name: title,\n      content: /*#__PURE__*/React.createElement(DocViewerTab, {\n        id: idx,\n        title: title,\n        component: component,\n        renderProps: renderProps,\n        render: render\n      })\n    };\n  });\n\n  if (!tabs.length) {\n    // There there's a minimum of 2 tabs active in Discover.\n    // This condition takes care of unit tests with 0 tabs.\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"kbnDocViewer\",\n    \"data-test-subj\": \"kbnDocViewer\"\n  }, /*#__PURE__*/React.createElement(EuiTabbedContent, {\n    size: \"s\",\n    tabs: tabs\n  }));\n}","/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License\n * 2.0 and the Server Side Public License, v 1; you may not use this file except\n * in compliance with, at your election, the Elastic License 2.0 or the Server\n * Side Public License, v 1.\n */\nimport React, { useRef, useEffect } from 'react';\n\n/**\n * Responsible for rendering a tab provided by a render function.\n * So any other framework can be used (E.g. legacy Angular 3rd party plugin code)\n * The provided `render` function is called with a reference to the\n * component's `HTMLDivElement` as 1st arg and `renderProps` as 2nd arg\n */\nexport function DocViewRenderTab({\n  render,\n  renderProps\n}) {\n  const ref = useRef(null);\n  useEffect(() => {\n    if (ref && ref.current) {\n      return render(ref.current, renderProps);\n    }\n  }, [render, renderProps]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref\n  });\n}","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License\n * 2.0 and the Server Side Public License, v 1; you may not use this file except\n * in compliance with, at your election, the Elastic License 2.0 or the Server\n * Side Public License, v 1.\n */\nimport React from 'react';\nimport { isEqual } from 'lodash';\nimport { I18nProvider } from '@kbn/i18n/react';\nimport { DocViewRenderTab } from './doc_viewer_render_tab';\nimport { DocViewerError } from './doc_viewer_render_error';\nimport { getServices } from '../../../kibana_services';\nimport { KibanaContextProvider } from '../../../../../../src/plugins/kibana_react/public';\n\n/**\n * Renders the tab content of a doc view.\n * Displays an error message when it encounters exceptions, thanks to\n * Error Boundaries.\n */\nexport class DocViewerTab extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      hasError: false,\n      error: ''\n    });\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return {\n      hasError: true,\n      error\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps.renderProps.hit._id !== this.props.renderProps.hit._id || nextProps.id !== this.props.id || !isEqual(nextProps.renderProps.columns, this.props.renderProps.columns) || nextState.hasError;\n  }\n\n  render() {\n    const {\n      component: Component,\n      render,\n      renderProps,\n      title\n    } = this.props;\n    const {\n      hasError,\n      error\n    } = this.state;\n\n    if (hasError && error) {\n      return /*#__PURE__*/React.createElement(DocViewerError, {\n        error: error\n      });\n    }\n\n    if (render) {\n      // doc view is provided by a render function, e.g. for legacy Angular code\n      return /*#__PURE__*/React.createElement(DocViewRenderTab, {\n        render: render,\n        renderProps: renderProps\n      });\n    } // doc view is provided by a react component\n\n\n    if (Component) {\n      return /*#__PURE__*/React.createElement(I18nProvider, null, /*#__PURE__*/React.createElement(KibanaContextProvider, {\n        services: {\n          uiSettings: getServices().uiSettings\n        }\n      }, /*#__PURE__*/React.createElement(Component, renderProps)));\n    }\n\n    return /*#__PURE__*/React.createElement(DocViewerError, {\n      error: `Invalid plugin ${title}, there is neither a (react) component nor a render function provided`\n    });\n  }\n\n}"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC9EA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpDA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}